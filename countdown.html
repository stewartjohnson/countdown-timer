<!DOCTYPE html>
<html>
  <head>
    <title>Countdown Timer</title>
    <style type="text/css">
      body { 
        background: black; 
      }

      #counter {
        margin: auto;
        margin-top: 10%;
        font-size: 2em;
        text-align: center;
        color: #6f6;
      }

      #config {
        margin:auto;
        padding: 20px;
        width: 600px;
        background: #eee;
        color: black;
        font-family: sans-serif;
        display: none;
        -moz-border-radius: 15px;
        border-radius: 15px;
        min-height: 200px
      }
    </style>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script style="text/javascript">
      var units = [ // specifies the time units all based in milliseconds
        [604800000, "week"   ],
        [ 86400000, "day"    ],
        [  3600000, "hour"   ],
        [    60000, "minute" ],
        [     1000, "second" ]
      ]

      // returns an array of ints that are the number of weeks, days, etc
      // between the two date parameters. Assumes first_date comes before 
      // second_date.
      var date_diff = function(first_date, second_date) {
        result = []
        var remainder = second_date - first_date

        units.forEach(function(e) {
          var num = e[0]
          result.push(Math.floor(remainder/num))
          remainder = remainder % num
        })
        return result
      }

      var update_counter = function() {
        targetDate = new Date($('#datepicker').val()+" "+$('#timepicker').val())
        $('#counter').text( 
          $.map(date_diff(new Date(), targetDate), function(e,i) {
            return e == 0 ? "" : e + " " + units[i][1] + (e != 1 ? "s" : "");
          }).join(" ")
        );
      }

      window.setInterval(update_counter, 1000);

      $(function() {
        $('#counter').click(function()  { 
          $('#config').toggle("slide");
        });
      });

      $(function() {
        $( "#datepicker" ).datepicker({ dateFormat: "DD, d MM yy" });
      });

      $(function() {
        d = new Date();
        d.setDate(d.getDate()+1);
        $("#datepicker").val(d.toDateString("DD, d MM yy"));
      });
    </script>
  </head>
  <body>
  <div id="counter">
  </div>
  <div id="config">
    <p>Date: <input type="text" id="datepicker" size="50"/>
       Time: <input type="text" id="timepicker" value="12:00"/></p>
  </div>
  </body>
</html>
